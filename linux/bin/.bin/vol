#!/bin/bash

# wpctl status
#ID=58
# hack: make this better...changes so can't hard code.
ID=$(wpctl status | grep -E 'WH-1000XM5.*vol:' | tr -d . | awk '{print $3}' 2>/dev/null)
INC=5

if [[ "$1" == "up" ]]; then
  wpctl set-volume $ID ${INC}%+
elif [[ "$1" = "down" ]]; then
  wpctl set-volume $ID ${INC}%-
elif [[ "$1" = "mute" ]]; then
  wpctl set-mute $ID toggle
else
  echo "usage: $(basename $0) [up|down|mute]"
  exit 1
fi
